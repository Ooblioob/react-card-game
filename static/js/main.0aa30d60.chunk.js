(this["webpackJsonpreact-card-game"]=this["webpackJsonpreact-card-game"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return p}));var a=n(192),r=n(26),c=n.n(r),i=n(10),l=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],o={unflipped:"unflipped",flipped:"flipped",matched:"matched"},u=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.value,r=void 0===n?"2C":n,c=t.id,i=void 0===c?0:c,l=t.state,u=void 0===l?o.unflipped:l;Object(a.a)(this,e),this.value=r,this.id=i,this.state=u},s=["C","S","H","D"].map((function(e){return l.map((function(t){return t+e}))})).flat(),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=s.filter((function(t){return!e.includes(t)}));if(0===t.length)throw Error("No cards left, all cards were excluded. Exclusions: [".concat(e,"]"));return t[c.a.random(t.length-1)]},d=function(e){for(var t=[],n=0;n<e;n++)t.push(new u({id:n,value:n%2===0?i.d(t.map((function(e){return e.value}))):t[n-1].value,state:o.unflipped}));return t},f=function(e){return c.a.shuffle(e)},p=function(e){return i.e(i.c(e))}},205:function(e,t,n){e.exports=n(225)},218:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=218},225:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),i=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(21),o=n.n(l),u=n(41),s=n(13),m=n(70),d=n(190),f=function(){return window.history.replaceState({},document.title,window.location.pathname)},p=r.a.createContext(),h=function(){return Object(a.useContext)(p)},g=function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?f:n,i=Object(m.a)(e,["children","onRedirectCallback"]),l=Object(a.useState)(),h=Object(s.a)(l,2),g=h[0],E=h[1],v=Object(a.useState)(),b=Object(s.a)(v,2),y=b[0],O=b[1],w=Object(a.useState)(),j=Object(s.a)(w,2),k=j[0],C=j[1],x=Object(a.useState)(!0),S=Object(s.a)(x,2),T=S[0],W=S[1],R=Object(a.useState)(!1),P=Object(s.a)(R,2),A=P[0],I=P[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(i);case 2:if(t=e.sent,C(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,E(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:l=e.sent,O(l);case 19:W(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},I(!0),e.prev=2,e.next=5,k.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,I(!1),e.finish(10);case 13:return e.next=15,k.getUser();case 15:n=e.sent,O(n),E(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,k.handleRedirectCallback();case 3:return e.next=5,k.getUser();case 5:t=e.sent,W(!1),E(!0),O(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(p.Provider,{value:{isAuthenticated:g,user:y,loading:T,popupOpen:A,loginWithPopup:U,handleRedirectCallback:D,getIdTokenClaims:function(){return k.getIdTokenClaims.apply(k,arguments)},loginWithRedirect:function(){return k.loginWithRedirect.apply(k,arguments)},getTokenSilently:function(){return k.getTokenSilently.apply(k,arguments)},getTokenWithPopup:function(){return k.getTokenWithPopup.apply(k,arguments)},logout:function(){return k.logout.apply(k,arguments)}}},t)},E=n(263),v=n(90),b=n(23),y=Object(b.a)(),O=n(264),w=n(24),j=n(247),k=n(71),C=n(250),x=n(26),S=n.n(x),T=n(191),W=function(e,t){Object(T.a)(Object.assign({},{origin:{y:.7}},t,{particleCount:Math.floor(800*e)}))},R=function(){W(.25,{spread:26,startVelocity:55}),W(.2,{spread:60}),W(.35,{spread:100,decay:.91}),W(.1,{spread:120,startVelocity:25,decay:.92}),W(.1,{spread:120,startVelocity:45})},P=n(10),A=function(e,t){return e.filter((function(e){return e.state===t}))},I=function(e){return A(e,P.a.flipped)},U=function(e){return I(e).length},D=function(e,t){var n=S.a.cloneDeep(e),a=n[t];return a.state===P.a.unflipped&&U(n)<2&&(a.state=P.a.flipped),n},B=function(e,t,n){var a=S.a.cloneDeep(e);return a.forEach((function(e){return e.state=e.state===t?n:e.state})),a},G=function(e){var t=S.a.cloneDeep(e);return t.forEach((function(e){return e.state=P.a.unflipped})),t},L=function(e){return function(e){return A(e,P.a.matched)}(e).length===2*Math.floor(e.length/2)},N=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,328))})),z=function(e,t,n){return Object(a.useEffect)((function(){var t=setTimeout(e,n);return function(){return clearTimeout(t)}}),[e,n,t])},F=function(e,t){var n=t.type,a=t.payload,r=e.cards;switch(n){case"flip":return Object(w.a)({},e,{cards:D(r,a)});case"shuffle":return Object(w.a)({},e,{cards:Object(P.e)(r)});case"unflipAll":return Object(w.a)({},e,{cards:G(r),gameWon:!1,fireCannon:!1,msg:"Play the Game!"});case"unflip":return Object(w.a)({},e,{cards:B(r,P.a.flipped,P.a.unflipped)});case"match":return Object(w.a)({},e,{cards:B(r,P.a.flipped,P.a.matched)});case"reset":return H(a);case"win":return Object(w.a)({},e,{gameWon:!0,msg:"You Win!"});case"fireCannon":return Object(w.a)({},e,{cannonFired:!0})}},H=function(e){return{cards:Object(P.b)(e),msg:"Play the Game!",gameWon:!1,cannonFired:!1}},J=function(e){var t=e.deckSize,n=e.themeColor,c=Object(a.useReducer)(F,t,H),i=Object(s.a)(c,2),l=i[0],o=l.cards,u=l.msg,m=l.gameWon,d=l.cannonFired,f=i[1],p=h().loading,g=Object(a.useCallback)((function(e){m||f({type:"flip",payload:e})}),[m]),E=Object(a.useCallback)((function(){!function(e){var t=I(e);return t.length>1&&t.every((function(e){return e.value===t[0].value}))}(o)?U(o)>1&&f({type:"unflip"}):f({type:"match"})}),[o]);return z(E,[g],1e3),z((function(){!m&&L(o)&&f({type:"win"})}),[E],1e3),z((function(){m&&!d&&(R(),f({type:"fireCannon"}))}),[m],1e3),p?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12,sm:4},r.a.createElement(j.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(j.a,{item:!0},r.a.createElement(k.a,{id:"msg","data-refkey":"msgRef",variant:"h3"},u)),r.a.createElement(j.a,{container:!0,item:!0,spacing:2,justify:"center",style:{marginBottom:"5px"}},r.a.createElement(M,{handleStartOver:function(){f({type:"unflipAll"}),S.a.delay((function(){f({type:"reset",payload:t})}),1e3)}}),r.a.createElement(_,{handleShuffle:function(){f({type:"shuffle"})}}),r.a.createElement(V,{handleUnflip:function(){f({type:"unflipAll"})}})),r.a.createElement(j.a,{container:!0,item:!0,direction:"row",alignItems:"center",justify:"space-evenly",xs:12,style:{borderStyle:"solid"}},r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"loading...")},o.map((function(e,t){return r.a.createElement(j.a,{key:e.id,container:!0,item:!0,xs:4,justify:"center",style:{height:"".concat(70/3,"vh")}},r.a.createElement(N,{key:e.id,index:t,value:e.value,state:e.state,height:"inherit",gameWon:m,themeColor:n,onClicked:g}))})))))),r.a.createElement(j.a,{item:!0,xs:!1}))},M=function(e){var t=e.handleStartOver;return r.a.createElement(j.a,{item:!0},r.a.createElement(C.a,{id:"start-over-btn",variant:"contained",color:"default",size:"small",onClick:t},"Start Over?"))},_=function(e){var t=e.handleShuffle;return r.a.createElement(j.a,{item:!0},r.a.createElement(C.a,{id:"shuffle-btn",variant:"contained",color:"default",size:"small",onClick:t},"Shuffle"))},V=function(e){var t=e.handleUnflip;return r.a.createElement(j.a,{item:!0},r.a.createElement(C.a,{id:"unflip-btn",variant:"contained",color:"default",size:"small",onClick:t},"Unflip"))};J.defaultProps={deckSize:9};var Y=J,K=function(e){var t=e.component,n=e.path,c=Object(m.a)(e,["component","path"]),i=h(),l=i.loading,s=i.isAuthenticated,d=i.loginWithRedirect;Object(a.useEffect)((function(){l||s||function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l,s,d,n]);return r.a.createElement(O.a,Object.assign({path:n,render:function(e){return!0===s?r.a.createElement(t,e):null}},c))},Q=n(255),X=n(256),Z=n(257),$=n(251),q=n(252),ee=n(254),te=n(197),ne=n.n(te),ae=n(230),re=["Red","Blue","Green","Grey","Purple","Yellow"];function ce(e){var t=e.currentColor,n=e.changeTheme,a=r.a.useState(null),c=Object(s.a)(a,2),i=c[0],l=c[1],o=Boolean(i),u=function(e){return function(){l(null),e&&n(e)}};return r.a.createElement("div",null,r.a.createElement($.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit"},r.a.createElement(ne.a,{color:"inherit"})),r.a.createElement(q.a,{id:"long-menu",anchorEl:i,keepMounted:!0,open:o,onClose:u(null),TransitionComponent:ae.a},re.map((function(e){return r.a.createElement(ee.a,{key:e,selected:e===t,onClick:u(e)},e)}))))}var ie=Object(Q.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),le=function(){var e=h(),t=e.isAuthenticated,n=e.loginWithRedirect,a=e.logout;return t?r.a.createElement(C.a,{color:"inherit",onClick:function(){return a({returnTo:window.location.origin+"/react-card-game"})}},"Logout"):r.a.createElement(C.a,{color:"inherit",onClick:function(){return n({})}},"Login")},oe=function(e){e.menuClickHandler;var t=e.currentColor,n=e.changeTheme,a=ie();return r.a.createElement(X.a,{position:"static"},r.a.createElement(Z.a,null,r.a.createElement(k.a,{variant:"h6",className:a.title}),r.a.createElement(le,null),r.a.createElement(ce,{currentColor:t,changeTheme:n})))},ue=n(258),se=n(229),me=n(259),de=n(234),fe=n(260),pe=n(261),he=n(50),ge=n.n(he),Ee=n(198),ve=n.n(Ee),be=Object(Q.a)((function(e){return{list:{width:250},fullList:{width:"auto"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(w.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"})}})),ye=function(e){var t=h().loading,n=be();return t?null:r.a.createElement(ue.a,{open:e.visible,variant:"persistent",className:n.drawer,classes:{paper:n.drawerPaper}},r.a.createElement("div",{className:n.drawerHeader},r.a.createElement($.a,{onClick:e.menuClickHandler},r.a.createElement(ve.a,null))),r.a.createElement(me.a,null),r.a.createElement(se.a,null,r.a.createElement(de.a,{button:!0,key:"Dashboard"},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null),r.a.createElement(pe.a,null,"Dashboard"))),r.a.createElement(de.a,{button:!0,key:"Instructions"},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null),r.a.createElement(pe.a,null,"Instructions"))),r.a.createElement(de.a,{button:!0,key:"Achievements"},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null),r.a.createElement(pe.a,null,"Achievements"))),r.a.createElement(de.a,{button:!0,key:"Settings"},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null),r.a.createElement(pe.a,null,"Settings")))))};ye.defaultProps={visible:!1};var Oe=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is the Achievements page...more to come soon!"))},we=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is the settings page...more to come soon!"))},je=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is the Instructions page...more to come soon!"))},ke=n(199),Ce=n(61),xe=n(262),Se=function(){var e=function(e){return Object(ke.a)({palette:{primary:Ce.a[e.toLowerCase()]}})},t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)("Red"),o=Object(s.a)(l,2),u=o[0],m=o[1],d=Object(a.useState)(e(u)),f=Object(s.a)(d,2),p=f[0],h=f[1];return r.a.createElement(xe.a,{theme:p},r.a.createElement(O.b,{history:y},r.a.createElement(j.a,{container:!0,direction:"column",wrap:"nowrap"},r.a.createElement(j.a,{item:!0},r.a.createElement(oe,{menuClickHandler:function(){i(!c)},currentColor:u,changeTheme:function(t){h((function(){return e(t)})),m(t)}})),r.a.createElement(j.a,{item:!0},r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,xs:!1,sm:3}),r.a.createElement(j.a,{item:!0,xs:!1,sm:1}),r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/react-card-game",exact:!0,render:function(e){return r.a.createElement(Y,Object.assign({},e,{themeColor:u}))}}),r.a.createElement(K,{path:"/react-card-game/achievements",component:Oe}),r.a.createElement(O.a,{path:"/react-card-game/settings",component:we}),r.a.createElement(O.a,{path:"/react-card-game/instructions",component:je})))))))};i.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{domain:v.domain,client_id:v.clientId,redirect_uri:window.location.origin+"/react-card-game",onRedirectCallback:function(e){y.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(E.a,null),r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e){e.exports=JSON.parse('{"domain":"dev-vim643-g.auth0.com","clientId":"6LDbS7cZwSlsJr3d24cstXGTMwhBaP1T"}')}},[[205,1,2]]]);
//# sourceMappingURL=main.0aa30d60.chunk.js.map