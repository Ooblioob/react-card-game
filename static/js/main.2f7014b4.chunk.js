(this["webpackJsonpreact-card-game"]=this["webpackJsonpreact-card-game"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return p}));var a=n(191),r=n(25),c=n.n(r),i=n(10),l=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],o={unflipped:"unflipped",flipped:"flipped",matched:"matched"},u=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.value,r=void 0===n?"2C":n,c=t.id,i=void 0===c?0:c,l=t.state,u=void 0===l?o.unflipped:l;Object(a.a)(this,e),this.value=r,this.id=i,this.state=u},s=["C","S","H","D"].map((function(e){return l.map((function(t){return t+e}))})).flat(),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=s.filter((function(t){return!e.includes(t)}));if(0===t.length)throw Error("No cards left, all cards were excluded. Exclusions: [".concat(e,"]"));return t[c.a.random(t.length-1)]},d=function(e){for(var t=[],n=0;n<e;n++)t.push(new u({id:n,value:n%2===0?i.d(t.map((function(e){return e.value}))):t[n-1].value,state:o.unflipped}));return t},f=function(e){return c.a.shuffle(e)},p=function(e){return i.e(i.c(e))}},205:function(e,t,n){e.exports=n(225)},218:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=218},225:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),i=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(21),o=n.n(l),u=n(40),s=n(13),m=n(69),d=n(189),f=function(){return window.history.replaceState({},document.title,window.location.pathname)},p=r.a.createContext(),h=function(){return Object(a.useContext)(p)},g=function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?f:n,i=Object(m.a)(e,["children","onRedirectCallback"]),l=Object(a.useState)(),h=Object(s.a)(l,2),g=h[0],E=h[1],v=Object(a.useState)(),b=Object(s.a)(v,2),w=b[0],y=b[1],O=Object(a.useState)(),k=Object(s.a)(O,2),j=k[0],C=k[1],x=Object(a.useState)(!0),S=Object(s.a)(x,2),T=S[0],W=S[1],R=Object(a.useState)(!1),P=Object(s.a)(R,2),A=P[0],I=P[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.a)(i);case 2:if(t=e.sent,C(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,E(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:l=e.sent,y(l);case 19:W(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},I(!0),e.prev=2,e.next=5,j.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,I(!1),e.finish(10);case 13:return e.next=15,j.getUser();case 15:n=e.sent,y(n),E(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),e.next=3,j.handleRedirectCallback();case 3:return e.next=5,j.getUser();case 5:t=e.sent,W(!1),E(!0),y(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(p.Provider,{value:{isAuthenticated:g,user:w,loading:T,popupOpen:A,loginWithPopup:U,handleRedirectCallback:D,getIdTokenClaims:function(){return j.getIdTokenClaims.apply(j,arguments)},loginWithRedirect:function(){return j.loginWithRedirect.apply(j,arguments)},getTokenSilently:function(){return j.getTokenSilently.apply(j,arguments)},getTokenWithPopup:function(){return j.getTokenWithPopup.apply(j,arguments)},logout:function(){return j.logout.apply(j,arguments)}}},t)},E=n(263),v=n(89),b=n(23),w=Object(b.a)(),y=n(264),O=n(247),k=n(70),j=n(250),C=n(25),x=n.n(C),S=n(190),T=function(e,t){Object(S.a)(Object.assign({},{origin:{y:.7}},t,{particleCount:Math.floor(800*e)}))},W=function(){T(.25,{spread:26,startVelocity:55}),T(.2,{spread:60}),T(.35,{spread:100,decay:.91}),T(.1,{spread:120,startVelocity:25,decay:.92}),T(.1,{spread:120,startVelocity:45})},R=n(10),P=function(e,t){return e.filter((function(e){return e.state===t}))},A=function(e){return P(e,R.a.flipped)},I=function(e){return A(e).length},U=function(e,t){var n=x.a.cloneDeep(e),a=n[t];return a.state===R.a.unflipped&&I(n)<2&&(a.state=R.a.flipped),n},D=function(e,t,n){var a=x.a.cloneDeep(e);return a.forEach((function(e){return e.state=e.state===t?n:e.state})),a},B=function(e){var t=x.a.cloneDeep(e);return t.forEach((function(e){return e.state=R.a.unflipped})),t},L=function(e){return function(e){return P(e,R.a.matched)}(e).length===2*Math.floor(e.length/2)},N=Object(a.lazy)((function(){return Promise.all([n.e(4),n.e(3)]).then(n.bind(null,328))})),z=function(e,t,n){return Object(a.useEffect)((function(){var t=setTimeout(e,n);return function(){return clearTimeout(t)}}),[e,n,t])},G=function(e,t){var n=e.cards,a=e.gameWon,r=e.msg,c=t.type,i=t.payload;switch(c){case"flip":return{cards:U(n,i),gameWon:a,msg:r};case"shuffle":return{cards:Object(R.e)(n),gameWon:a,msg:r};case"unflipAll":return{cards:B(n),gameWon:a,msg:r};case"unflip":return{cards:D(n,R.a.flipped,R.a.unflipped),gameWon:a,msg:r};case"match":return{cards:D(n,R.a.flipped,R.a.matched),gameWon:a,msg:r};case"reset":return H(i);case"win":return{cards:n,gameWon:!0,msg:"You Win!"}}},H=function(e){return{cards:Object(R.b)(e),msg:"Play the Game!",gameWon:!1}},J=function(e){var t=e.deckSize,n=e.themeColor,c=Object(a.useReducer)(G,t,H),i=Object(s.a)(c,2),l=i[0],o=l.cards,u=l.msg,m=l.gameWon,d=i[1],f=h().loading,p=Object(a.useCallback)((function(e){m||d({type:"flip",payload:e})}),[m]),g=Object(a.useCallback)((function(){!function(e){var t=A(e);return t.length>1&&t.every((function(e){return e.value===t[0].value}))}(o)?I(o)>1&&d({type:"unflip"}):d({type:"match"})}),[o]);return z(g,[p],1e3),z((function(){!m&&L(o)&&d({type:"win"})}),[g],1e3),z((function(){m&&W()}),[m],1e3),f?r.a.createElement("div",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{item:!0,xs:8,sm:4},r.a.createElement(O.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(O.a,{item:!0},r.a.createElement(k.a,{id:"msg","data-refkey":"msgRef",variant:"h3"},u)),r.a.createElement(O.a,{container:!0,item:!0,spacing:2,justify:"center",style:{marginBottom:"5px"}},r.a.createElement(M,{handleStartOver:function(){d({type:"unflipAll"}),x.a.delay((function(){d({type:"reset",payload:t})}),1e3)}}),r.a.createElement(_,{handleShuffle:function(){d({type:"shuffle"})}}),r.a.createElement(F,{handleUnflip:function(){d({type:"unflipAll"})}})),r.a.createElement(O.a,{container:!0,item:!0,direction:"row",alignItems:"center",justify:"space-evenly",xs:12,style:{borderStyle:"solid"}},r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",null,"loading...")},o.map((function(e,t){return r.a.createElement(O.a,{key:e.id,container:!0,item:!0,xs:4,justify:"center",style:{height:"".concat(70/3,"vh")}},r.a.createElement(N,{key:e.id,index:t,value:e.value,state:e.state,height:"inherit",gameWon:m,themeColor:n,onClicked:p}))})))))),r.a.createElement(O.a,{item:!0,xs:4}))},M=function(e){var t=e.handleStartOver;return r.a.createElement(O.a,{item:!0},r.a.createElement(j.a,{id:"start-over-btn",variant:"contained",color:"default",size:"small",onClick:t},"Start Over?"))},_=function(e){var t=e.handleShuffle;return r.a.createElement(O.a,{item:!0},r.a.createElement(j.a,{id:"shuffle-btn",variant:"contained",color:"default",size:"small",onClick:t},"Shuffle"))},F=function(e){var t=e.handleUnflip;return r.a.createElement(O.a,{item:!0},r.a.createElement(j.a,{id:"unflip-btn",variant:"contained",color:"default",size:"small",onClick:t},"Unflip"))};J.defaultProps={deckSize:9};var V=J,Y=function(e){var t=e.component,n=e.path,c=Object(m.a)(e,["component","path"]),i=h(),l=i.loading,s=i.isAuthenticated,d=i.loginWithRedirect;Object(a.useEffect)((function(){l||s||function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[l,s,d,n]);return r.a.createElement(y.a,Object.assign({path:n,render:function(e){return!0===s?r.a.createElement(t,e):null}},c))},K=n(255),Q=n(256),X=n(257),Z=n(251),$=n(252),q=n(254),ee=n(196),te=n.n(ee),ne=n(230),ae=["Red","Blue","Green","Grey","Purple","Yellow"];function re(e){var t=e.currentColor,n=e.changeTheme,a=r.a.useState(null),c=Object(s.a)(a,2),i=c[0],l=c[1],o=Boolean(i),u=function(e){return function(){l(null),e&&n(e)}};return r.a.createElement("div",null,r.a.createElement(Z.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit"},r.a.createElement(te.a,{color:"inherit"})),r.a.createElement($.a,{id:"long-menu",anchorEl:i,keepMounted:!0,open:o,onClose:u(null),TransitionComponent:ne.a},ae.map((function(e){return r.a.createElement(q.a,{key:e,selected:e===t,onClick:u(e)},e)}))))}var ce=Object(K.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),ie=function(){var e=h(),t=e.isAuthenticated,n=e.loginWithRedirect,a=e.logout;return t?r.a.createElement(j.a,{color:"inherit",onClick:function(){return a({returnTo:window.location.origin+"/react-card-game"})}},"Logout"):r.a.createElement(j.a,{color:"inherit",onClick:function(){return n({})}},"Login")},le=function(e){e.menuClickHandler;var t=e.currentColor,n=e.changeTheme,a=ce();return r.a.createElement(Q.a,{position:"static"},r.a.createElement(X.a,null,r.a.createElement(k.a,{variant:"h6",className:a.title}),r.a.createElement(ie,null),r.a.createElement(re,{currentColor:t,changeTheme:n})))},oe=n(199),ue=n(258),se=n(229),me=n(259),de=n(234),fe=n(260),pe=n(261),he=n(49),ge=n.n(he),Ee=n(197),ve=n.n(Ee),be=Object(K.a)((function(e){return{list:{width:250},fullList:{width:"auto"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(oe.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"})}})),we=function(e){var t=h().loading,n=be();return t?null:r.a.createElement(ue.a,{open:e.visible,variant:"persistent",className:n.drawer,classes:{paper:n.drawerPaper}},r.a.createElement("div",{className:n.drawerHeader},r.a.createElement(Z.a,{onClick:e.menuClickHandler},r.a.createElement(ve.a,null))),r.a.createElement(me.a,null),r.a.createElement(se.a,null,r.a.createElement(de.a,{button:!0,key:"Dashboard"},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null),r.a.createElement(pe.a,null,"Dashboard"))),r.a.createElement(de.a,{button:!0,key:"Instructions"},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null),r.a.createElement(pe.a,null,"Instructions"))),r.a.createElement(de.a,{button:!0,key:"Achievements"},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null),r.a.createElement(pe.a,null,"Achievements"))),r.a.createElement(de.a,{button:!0,key:"Settings"},r.a.createElement(fe.a,null,r.a.createElement(ge.a,null),r.a.createElement(pe.a,null,"Settings")))))};we.defaultProps={visible:!1};var ye=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is the Achievements page...more to come soon!"))},Oe=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is the settings page...more to come soon!"))},ke=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is the Instructions page...more to come soon!"))},je=n(198),Ce=n(60),xe=n(262),Se=function(){var e=function(e){return Object(je.a)({palette:{primary:Ce.a[e.toLowerCase()]}})},t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],i=n[1],l=Object(a.useState)("Red"),o=Object(s.a)(l,2),u=o[0],m=o[1],d=Object(a.useState)(e(u)),f=Object(s.a)(d,2),p=f[0],h=f[1];return r.a.createElement(xe.a,{theme:p},r.a.createElement(y.b,{history:w},r.a.createElement(O.a,{container:!0,direction:"column",wrap:"nowrap"},r.a.createElement(O.a,{item:!0},r.a.createElement(le,{menuClickHandler:function(){i(!c)},currentColor:u,changeTheme:function(t){h((function(){return e(t)})),m(t)}})),r.a.createElement(O.a,{item:!0},r.a.createElement(O.a,{container:!0},r.a.createElement(O.a,{item:!0,xs:!1,sm:3}),r.a.createElement(O.a,{item:!0,xs:!1,sm:1}),r.a.createElement(y.c,null,r.a.createElement(y.a,{path:"/react-card-game",exact:!0,render:function(e){return r.a.createElement(V,Object.assign({},e,{themeColor:u}))}}),r.a.createElement(Y,{path:"/react-card-game/achievements",component:ye}),r.a.createElement(y.a,{path:"/react-card-game/settings",component:Oe}),r.a.createElement(y.a,{path:"/react-card-game/instructions",component:ke})))))))};i.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{domain:v.domain,client_id:v.clientId,redirect_uri:window.location.origin+"/react-card-game",onRedirectCallback:function(e){w.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(E.a,null),r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e){e.exports=JSON.parse('{"domain":"dev-vim643-g.auth0.com","clientId":"6LDbS7cZwSlsJr3d24cstXGTMwhBaP1T"}')}},[[205,1,2]]]);
//# sourceMappingURL=main.2f7014b4.chunk.js.map